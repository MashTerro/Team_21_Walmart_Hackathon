<!DOCTYPE html>
<html>

<head>
    <title>ATO Detection by file check</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#csvForm').submit(function (e) {
                e.preventDefault();
                var formData = new FormData(this);
                $.ajax({
                    type: 'POST',
                    url: '/process_csv',
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function (response) {
                        // Processed CSV data received, update table
                        var tableBody = $('#dataTable tbody');
                        tableBody.empty();
                        $.each(response, function (index, row) {
                            tableBody.append('<tr><td>' + row.column1 + '</td><td>' + row.column2 + '</td><td>' + row.column3 + '</td><td>' + row.column4 + '</td><td>' + row.column5 + '</td><td>' + row.column6 + '</td><td>' + row.column7 + '</td><td>' + row.column8 + '</td><td>' + row.column9 + '</td></tr>');
                        });
                    }
                });
            });
        });

        $(document).ready(function () {
            $('#back-btn').click(function () {
                window.location.href = '/';
            });
        });
    </script>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-image: url('https://www.aicorporation.com/wp-content/uploads/2019/01/fraud-analytics2-800x600.png');
        }

        .main-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            text-align: center;
            width: auto;
            height: auto;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 100px;
            border-radius: 5px;
            margin-bottom: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .container h1 {
            margin-top: 0;
            color: rgb(15, 4, 56);
        }

        .data-container {
            background-color: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .data-container h2 {
            margin-top: 0;
        }


        form {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        label {
            font-weight: bold;
        }

        input,
        select,
        button {
            padding: 8px;
            font-size: 20px;
        }

        button {
            color: rgb(250, 244, 244);
            background-color: rgb(18, 18, 122);
            border-radius: 20px;
            width: 150px;
        }

        button:hover {
            background-color: #846ed4;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #060304;
        }

        th,
        td {
            border: 1px solid #060304;
            padding: 8px;
            text-align: left;
            font-size: 20px;
        }
    </style>
</head>

<body>
    <div class="main-container" ,method="post">
        <div class="container">
            <h1>Multi-User ATO Detection</h1>
            <form id="csvForm" enctype="multipart/form-data">
                <input type="file" name="csv_file" accept=".csv">
                <button type="submit">Predict</button>
            </form>
            <table id="dataTable">
                <thead>
                   
                </thead>
                <tbody>
                </tbody>
            </table>

        </div>
    </div>
    <button id="back-btn"
        style="position: fixed;left: 10px;top: 10px;background-color: rgb(18, 18, 122);color: rgb(246, 240, 240);font-size: 20px;width: 200px;border-radius: 20px;">Back</button>

</body>

</html>